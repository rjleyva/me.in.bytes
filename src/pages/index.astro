---
import { createMetadata } from '@/utils/metadata';
import { getCollection } from 'astro:content';
import BaseLayout from '@/layouts/BaseLayout.astro';
import Hero from '@/components/Hero.astro';
import type { PageMetadata } from '@/types';

const metadata: PageMetadata = createMetadata({
  pageTitle: "RJ Leyva's Blog",
  pageDescription:
    'Explore RJ Leyvaâ€™s blog for practical tips on Astro and React development, Neovim configuration, split mechanical keyboards, and digital craftingâ€”ideal for developers, makers, and tinkerers.',
  pageURL: 'https://me-in-bytes.vercel.app'
});

const posts = await getCollection('posts');
const sortedPosts = posts.sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
---

<BaseLayout {...metadata}>
  <Hero
    heroHeading="Hello there! "
    wavingHand=" ğŸ‘‹ğŸ»"
    heroBio="I'm RJ, a consultant by day, developer at heart. Dive in for Neovim, keyboards, and crafts."
    recentPosts={sortedPosts}
  />
</BaseLayout>
