---
import BaseLayout from './BaseLayout.astro';
import type { PostFrontmatter } from '@/types';

const { frontmatter, Content } = Astro.props as {
  frontmatter: PostFrontmatter;
  Content: any;
};
const pageURL = Astro.url.pathname;
---

<BaseLayout
  pageTitle={frontmatter.title}
  pageDescription={frontmatter.description}
  pageURL={pageURL}
>
  <article
    class="post"
    aria-labelledby="post__title"
    role="article"
    itemscope
    itemtype="https://schema.org/Article"
  >
    <header class="post__header" role="group">
      <h1 id="post__title" class="post__title" itemprop="headline">
        {frontmatter.title}
      </h1>

      {
        frontmatter.description && (
          <p class="post__description" itemprop="description">
            {frontmatter.description}
          </p>
        )
      }

      <p class="post__meta">
        <time
          class="post__date"
          datetime={frontmatter.date.toISOString()}
          title={frontmatter.date.toUTCString()}
          itemprop="datePublished"
        >
          {frontmatter.date.toLocaleDateString('en-US', { dateStyle: 'long' })}
        </time>
      </p>
    </header>

    <section
      class="post__content"
      aria-label="Post content"
      role="region"
      itemprop="articleBody"
    >
      <Content />
    </section>
  </article>
</BaseLayout>

<style>
  .post {
    margin: 0 auto;
    padding: 1rem;
    max-width: 30rem;
    line-height: 1.3rem;
    font-size: 1rem;
  }

  .post__header {
    margin-bottom: 1rem;
  }

  .post__title {
    margin-bottom: 0.5rem;
  }

  .post__description {
    font-size: 1rem;
    margin-bottom: 0.5rem;
  }
</style>
